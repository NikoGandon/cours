$$\begin{align}
\text{Donnée: } \quad & P \\
& W \\
& C \\
& D_{C} \\
& \text{dist}_{C,W}  \\
& \text{OpWa}_{w} \begin{cases}
1 \\
0
\end{cases} \\
&\text{ShipToC} \begin{cases}
1 \\
0
\end{cases}\\[1em]
\text{Variable:} \quad&  
 \\[1em]
\text{Contrainte:} \quad&\forall c \in C \sum_{w}\text{ShipToC}_{c,w}=1 \\

 \\[1em]
\text{Fonction objective:}\quad &\min \sum_{C}\sum_{W}D_{C}\times \text{dist}_{C,W}\times \text{ShipToC}_{W,C}
\end{align}$$

>[!info] CC
>Ne porte pas sur le Cours 1 ni les TPs
>Point négatif sur le QCM ($-0.25$ pour un faux, une seule réponse possible (?))
>Pas de démonstration



## Simplex
Il y a 4 versions de simplex (on en a vu 2 : le primal et le primal révisé, il y a aussi le dual et le dual révisé)

On fera une itération, avec le simplex primal :

|     |     | x1  | x2  | x3  | x4  | x5  |     |
| :-: | :-: | :-: | --- | --- | --- | --- | --- |
| L1  | x3  |  1  | 3   | 1   | 0   | 0   | 4   |
| L2  | x5  |  2  | 4   | 0   | 0   | 1   | 3   |
| L3  | x4  |  2  | -1  | 0   | 1   | 0   | 2   |
| L4  |     |  2  | -3  | 0   | 0   | 0   | 11  |

On cherche une var neg. (ici, $-3$, si il y en a +, on prend n'importe laquelle)

$-3$ vient de x2, c'est la var entrante
La var sortante doit être choisie intelligemment, 
On choisis une valeur où x2 est positif

$$\min\left( \frac{4}{3}, \frac{3}{4} \right)$$ x5 sera donc la var sortante

On change de base :

$L_{2}'=\frac{L_{2}}{4}$
$L_{1}'=L_{1}-3L_{2}'$
$L_{3}'=L_{3}+L_{2}'$
$L_{4}=L_{4}+3L_{2}'$

|     |     |       x1       | x2  | x3  | x4  | x5                                           |                |
| :-: | :-: | :------------: | --- | --- | --- | -------------------------------------------- | -------------- |
| L1' | x3  | $-\frac{1}{2}$ | 0   | 1   | 0   | $0-3\left( \frac{1}{4} \right)=-\frac{3}{4}$ | $\frac{7}{4}$  |
| L2' | x2  | $\frac{1}{2}$  | 1   | 0   | 0   | $\frac{1}{4}$                                | $\frac{3}{4}$  |
| L3' | x4  | $\frac{5}{2}$  | 0   | 0   | 1   | $\frac{1}{4}$                                | $\frac{11}{4}$ |
| L4' |     | $\frac{7}{2}$  | 0   | 0   | 0   | $\frac{3}{4}$                                | $\frac{53}{4}$ |
Tout est positif, on a une solution optimale

>[!info] L'ordre des colonnes n'a pas d'importances, mais celles des lignes si

## Modélisation

Problème d'ordonnancement d'une machine

$$\begin{align}
\text{Donnee} \quad& n:\text{nombre de tache} + 2 \text{ taches fictive } \begin{cases}
i=0 \\
i=n+1
\end{cases} \\
&r_{i} \\
&d_{i} \\
&p_{i}
 \\[1em]
\text{Variable} \quad& t_{i}:\text{Date de debut tache }i \\
&x_{i,j}\begin{cases}
1\text{ si } i \text{ avant } j \\
0\text{ sinon}
\end{cases} \\
&C_{max}\in\mathbb{R}^+
 \\[1em]
\text{Contrainte}\quad& t_{i}+p_{i} \leq d_{i} ~~\forall i\\
& r_{i}\leq t_{i} ~~\forall i \\
& t_{i}+p_{i}\leq t_{j+HV(1-x_{i,j})} ~~\forall i,j \\
&\sum_{j}x_{i,j}=1 \forall i \in [0,\dots,n]\\
&\sum_{j}x_{i,j} \forall j \in [1,\dots,n+1]

 \\[1em]
\text{Fonction objectif}\quad& \min C_{max} \\
& \min \frac{\left( \sum^{n}_{i=1} t_{i}+p_{i} \right)}{n}  \\
& \min \sum^{n}_{i=1} l_{il}
\end{align}$$