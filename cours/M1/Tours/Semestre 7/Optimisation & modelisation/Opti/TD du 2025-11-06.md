# Exercice 1

## Variables:

$X=\{ \text{rouge}, \text{vert}, \dots,\text{cheval},\dots,\text{eau},\text{vin},\dots \text{norvegien}\}$

## Domaines :

$\forall x \in X,\quad \underset{\text{Numéro de la maison en place de }x}{D(x)=\{ 1,2,\dots,5 \}}$

## Contraintes : 

- $\text{norvegien}=1$
- $(\text{norvegien}=bleu+1)\lor(\text{norevien}=\text{bleu}-1)$
- $\text{lait}=3$
- $\text{anglais}=\text{rouge}$
- $\text{vert}=\text{cafe}$
- $\text{jaune}=\text{kools}$
- $\text{blanche}=\text{verte}+1$
- $\text{espagnole}=\text{chien}$
- $\text{ukrainien}=\text{thé}$
- $\text{japonais}=\text{cravens}$
- $\text{old golds}=\text{escargot}$
- $\text{gitane}=\text{vin}$
- $(\text{chesterfields}=\text{renard}+1)\lor(\text{chesterfields}=\text{renard}-1)$
- $(\text{kools}=\text{cheval}+1)\lor(\text{kools}=\text{cheval}-1)$
- $\text{AllDiff}(\{ \text{vert},\text{jaune},\dots,\text{rouge} \})$
- $\text{AllDiff}(\{\text{cheval},\dots,\text{renard} \})$
- $\text{AllDiff}(\{\text{vin},\dots,\text{eau} \})$
- $\text{AllDiff}(\{\text{cravens},\dots,\text{kools} \})$
- $\text{AllDiff}(\{\text{norvegien}, \dots, \text{japonais} \})$

# Exercice 2

$$
\begin{array}{|c|c|c|}
\hline
2 & 3 & 1 \\
\hline
 3 & 1 & 2  \\
\hline
 1 & 2  & 3 \\
\hline
\end{array}
$$
>[!note] Regarder les zones sur le TD

## Variables :

variable par case:  

$$
\begin{array}{|c|c|c|}
\hline
X_{1} & X_{2} & X_{3} \\
\hline
 X_{4} & X_{5} & X_{6}  \\
\hline
 X_{7} & X_{8}  & X_{9} \\
\hline
\end{array}
$$

## Domaines : 

$\forall x \in X, D(X)=\{ 1, 2, 3 \}$
$\forall i \in \{ 1,\dots,9 \}$

## Contraintes :

- $\text{AllDiff}(\{ X_{1},X_{2},X_{3} \})$
- $\text{AllDiff}(\{ X_{4}, X_{5}, X_{6} \})$
- $\text{AllDiff}(\{ X_{7},X_{8},X_{9} \})$
- $\text{AllDiff}(\{ X_{1},X_{4},X_{7} \})$
- $\text{AllDiff}(\{ X_{2},X_{5},X_{8} \})$
- $\text{AllDiff}(\{ X_{3},X_{6},X_{9} \})$
- $\text{AllDiff}(\{ X_{4},X_{7},X_{8} \})$
- $\text{AllDiff}(\{ X_5,X_{6},X_{9} \})$
- $(X_{1}=X_{4}+1)\lor (X_{1}=X_{4}-1)$
- $(X_{5}=2X_{8})\lor(X_{8}=2X_{5})$

De manière générale :
- $\forall X_{i},X_{j}$ séparé par un point blanc : 
	- $(X_{i}=X_{j}+1) \lor (X_{i}=X_{j}-1)$
- $\forall X_{i},X_{j}$ séparé par un point noir : 
	- $(X_{i}=2X_{j}) \lor (X_{j}=2X_{i})$
- $\forall E$ une ligne, colonne ou région :
	- $\text{AllDiff}(E)$

# Exercice 3


Soit $T=\{ 1,2,3,\dots,n \}$ avec $n$ équipes
## Variables

Pour toute équipe $i \in\{ 1,\dots,n \}$ et toute semaine $s \in \{ 1,\dots,n \}$
$O_{is}$ : l'opposition de $i$ à la semaine $s$
$B_{is}$: domicile ou extérieur ?

## Domaines

$\forall i,\forall j \quad D(O_{is})=\{ 1,\dots,n \} \setminus \{ i \}$
$B(O_{is})=\{ 0, 1 \}$

## Contraintes

- L'équipe $i \in \{ 1,\dots,n \}$ joue une et une seule fois contre toutes les autres équipes
	- $\text{AllDiff}(\{ O_{is},\quad s \in \{ 1,\dots,n-1 \} \})$
- Pour toute équipe $i \in \{ 1,\dots,n \}$, pour toute autre équipe $j \in \{ 1,\dots,n \} \setminus \{ i \}$, pour toute semaine $s \in \{ 1,\dots,n \}$
	- $(O_{is}==j)\implies(O_{is}==i \land \underset{\text{si } i \text{ à domicile, alors }j\text{ à l'extérieur, vice versa}}{B_{is}\neq B_{js}} )$

## Objectif :

$\min \sum_{i=1}^{n} \sum_{s=1}^{n-2}\underset{\substack{\text{= 1 si même valeur}\\\text{= 0 sinon}}}{B_{is} = B_{i,s+1}}$
## Idées pour améliorer le modèle 

- Décompose la $\sum\sum$ dans la fonction objectif $\min \sum_{i}B_{i}$ avec $\forall i, B_{i}=\sum_{i}B_{is}$ (plus facile à propager)
- Ajouter contraintes redondantes
	- $\forall s, \text{AllDiff}(\{ O_{is},i \in \{ 1,\dots,n \} \})$