# Exercice 1

1. Soit les variables $x_{1}\dots x_{6}$ avec $D_{1}=\{ 1,2 \}, D_{2}=\{ 2,3 \}, D_{3}=\{ 1,3 \}, D_{4}=\{ 2,4 \}, D_{5}=\{ 3,4,5,6 \}, D_{6}=\{ 6,7 \}$, on cherche à rendre cette contrainte arc-consistante

   $$
   \begin{align}
   &D_{1}=\{ 1,2 \} \\
   &D_{2}=\{ 2,3 \} \\
   &D_{3}=\{ 1,3 \} \\
   &D_{4}=\{ \cancel{2},4 \} \\
   &D_{5}=\{ \cancel{3},\cancel{4},5,6 \} \\
   &D_{6}=\{ 6,7 \}
   \end{align}
   $$
   - La valeur $x_{1}=1$ est arc-consistant car je peux choisir $x_{2}=2, x_{3}=3,\dots,x_{6}=6$ et respecter la contrainte
   - La valeur $x_{1}=2$ est arc-consistant car je peux choisir $x_{2}=3, x_{3}=1, x_{4}=4,\dots$ et respecter la contrainte
   - $\dots$
   - La valeur $x_{4}=2$ n'est pas arc-consistant car cela impliquerait $x_{1}=1, x_{2}=3$, on est alors bloqué pour $x_{3}$, je peux donc le supprimer
     - On peut donc déduire que $x_{5}=4$ n'est pas arc-consistant
   - La valeur $x_{5}=3$ n'est pas arc-consistant car les valeurs $1,2,3$ seront prises par $x_{1}, x_{2}, x_{3}$

2. ![[Drawing 2025-11-13 16.26.14.excalidraw]]
3. La contrainte $C$ est réalisable si et seulement si il existe un couplage dans un graphe de valeur $GV(C)$ couvrant toutes les variables $X$

   > [!warning] Le couplage correspond à une affectation valeur-variable
   >
   > - Je n'ai pas donné 2 valeurs à une même variable
   > - Je n'ai pas donné la même valeur à 2 variables

4. - On ajoute un sommet source lié à tous les sommets de $X$ (variables) de capacité $1$ (interdisant de sélectionner 2 arêtes sortants de cette variable)
   - Je rajoute un sommet puit connecté à tous les sommets de $D(X)$ (valeurs) de capacité $1$ (interdisant de sélectionner 2 arêtes entrant dans une même valeur)
   - $\implies$ je cherche un flot max de source à puit. Sa valeur doit être $\mid X \mid$
     ![[Drawing 2025-11-13 16.40.28.excalidraw]]
5. Une contrainte de diff $C$ est arc-consistante si et seulement si aucune des arêtes de son graphe de valeur $GV(C)$ ne sont de type a. Autrement dit, toutes ses arêtes appartiennent à au moins un couplage couvrant $X$
6. Arguments clés pour faire la preuve
   - Le graphe est biparti, donc toute chaîne alterne entre des sommets $X$ et des sommets de $D(X)$ ("gauche, droite, gauche, droite, ...")
   - Dans la version orienté, on ne peut le faire qu'en prenant alternativement un arc de couplage ("de gauche à droite") et hors du couplage ("de droite à gauche")
   - Pour la parité, toute chaîne dans un graphe est paire
   - Pour les chemins ($b$), on commence par un sommet de $D(X)$ (car $X$ correct). Si le chemin est de longueur impair, on peut le compléter par l'arc du couplage adjacent au sommet où l'on finit, et donc lui faire correspondre une chaine de longueur paire.
7. En complément à la question 8
8. Pour classer les arêtes, il suffit de considérer ka version orienté du graphe (le matching est calculé via la méthode de la question 4). On cherche les chemins / circuits alternant avec un algo type recherche en largeur d'abord. Avec la question 6 et le théorème de Berge, les arêtes par lesquelles on passe (union le couplage initial) sont de catégorie b ou c $\implies$ on supprime les autres / on réduit les domaines correspondants.
9. .
